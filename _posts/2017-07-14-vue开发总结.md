---
layout: post
title: vue开发总结
---

这一年，从mithril.js到react，现在又开始的vue的学习。从最开始的一个前端菜鸟，现在对于框架也能比较快上手，但毕竟是两个不同的框架，还是有区别的。现在开发与时俱进，用的是vue2.0版本，一些用法也有更新。花了点功夫了解vue父组件与子组件进行通信，vue1可以通过在子组件直接设置props的值从而进行通信，不过在需要props中设置sync，这样子组件在修改的时候就可以同步了。在vue2中，取消了这种简单粗暴的方式，sync的修饰符也取消了，组件间通信可以使用vuex进行通信，或者使用$emit触发父组件的事件，从而修改父组件参数。

～～～
// 父组件
<template>
    <div>
        <Test @changge-info="changeParents"></Test>
    </div>
</template>
<script>
    import Test from '@/components/Test';
    export default {
        data () {
            return {
            tableData: [],
            tableDataTotal: 0,
            page: 1,
            };
        },
        components: {
            CreateSong,
            ViewSong
        },
        mounted() {
          dao.querySongList().then(data => {
                this.tableData = data.list;
                this.tableDataTotal= data.total;
                this.page=data.pageNum;
            }).catch(reason => this.$message.error(reason.toString()));
        },
        methods: {
        changeParents(type,value) {
           this[type] = value;
        }
        }
    }
</script>

// 子组件
<template>
    <div>
        <Test @changge-info="changeParents"></Test>
    </div>
</template>
<script>
        this.$emit('changge-info','tableData',data.list);
        this.$emit('changge-info','tableDataTotal',data.total);
        this.$emit('changge-info','page',data.pageNum);
</script>

～～～
